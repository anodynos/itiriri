!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ArrayQuery=e()}}(function(){return function u(i,a,c){function f(r,e){if(!a[r]){if(!i[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(s)return s(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[r]={exports:{}};i[r][0].call(o.exports,function(e){return f(i[r][1][e]||e)},o,o.exports,u,i,a,c)}return a[r].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)f(c[e]);return f}({1:[function(e,r,t){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])},function(e,r){function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0});var u=e("./iterators/concat"),i=e("./iterators/distinct"),a=e("./iterators/except"),c=e("./iterators/filter"),f=e("./iterators/flatten"),s=e("./iterators/fromArray"),l=e("./iterators/getIterator"),p=e("./iterators/groupBy"),d=e("./iterators/groupJoin"),y=e("./iterators/intersect"),v=e("./iterators/join"),h=e("./iterators/leftJoin"),b=e("./iterators/map"),m=e("./iterators/reverse"),x=e("./iterators/shuffle"),w=e("./iterators/skip"),_=e("./iterators/sort"),g=e("./iterators/take"),A=e("./reducers/at"),M=e("./reducers/average"),G=e("./reducers/count"),O=e("./reducers/first"),k=e("./reducers/indexOf"),j=e("./reducers/last"),P=e("./reducers/lastIndexOf"),I=e("./reducers/max"),S=e("./reducers/min"),E=e("./reducers/reduce"),J=e("./reducers/sum"),T=e("./reducers/toArray"),q=e("./reducers/toMap"),B=e("./reducers/toMapAll"),D=e("./reducers/toSet");t.query=function(e){return Array.isArray(e)?new N(s.fromArray(e)):new N(e)};var N=function(){function o(e){this.source=e}return o.prototype[Symbol.iterator]=function(){return l.getIterator(this.source)},o.prototype.at=function(e){return A.at(this,e)},o.prototype.indexOf=function(e){return k.indexOf(this,L(e))},o.prototype.lastIndexOf=function(e){return P.lastIndexOf(this,L(e))},o.prototype.count=function(e){return void 0===e&&(e=function(e){return!0}),G.count(c.filter(this,e))},o.prototype.first=function(e){return void 0===e&&(e=function(e){return!0}),O.first(c.filter(this,e))},o.prototype.last=function(e){return void 0===e&&(e=function(e){return!0}),j.last(c.filter(this,e))},o.prototype.average=function(e){return void 0===e&&(e=function(e){return e}),M.average(b.map(this,e))},o.prototype.min=function(e){return void 0===e&&(e=function(e){return e}),S.min(b.map(this,e))},o.prototype.max=function(e){return void 0===e&&(e=function(e){return e}),I.max(b.map(this,e))},o.prototype.sum=function(e){return void 0===e&&(e=function(e){return e}),J.sum(b.map(this,e))},o.prototype.reduce=function(e,r){return E.reduce(this,e,r)},o.prototype.reduceRight=function(e,r){return T.toArray(this).reduceRight(e,r)},o.prototype.every=function(t){return-1===k.indexOf(this,function(e,r){return!t(e,r)})},o.prototype.some=function(e){return-1!==k.indexOf(this,e)},o.prototype.contains=function(r){return this.some(function(e){return e===r})},o.prototype.shuffle=function(){return new o(x.shuffle(this))},o.prototype.reverse=function(){return new o(m.reverse(this))},o.prototype.sort=function(e){return void 0===e&&(e=function(e){return e}),new o(_.sort(this,e))},o.prototype.sortDesc=function(e){return void 0===e&&(e=function(e){return e}),new o(_.sort(this,e,!0))},o.prototype.distinct=function(e){return void 0===e&&(e=function(e){return e}),new o(i.distinct(this,e))},o.prototype.filter=function(e){return new o(c.filter(this,e))},o.prototype.take=function(e){return new o(g.take(this,e))},o.prototype.skip=function(e){return new o(w.skip(this,e))},o.prototype.except=function(e,r){return void 0===r&&(r=function(e){return e}),new o(a.except(this,R(e),r))},o.prototype.intersect=function(e,r){return void 0===r&&(r=function(e){return e}),new o(y.intersect(this,R(e),r))},o.prototype.union=function(e,r){return new o(i.distinct(u.concat(this,R(e)),r))},o.prototype.map=function(e){return new o(b.map(this,e))},o.prototype.mapAll=function(t){var e=this.map(function(e,r){return R(t(e,r))});return new o(f.flatten(e))},o.prototype.forEach=function(t){return new o(b.map(this,function(e,r){return t(e,r),e}))},o.prototype.groupBy=function(e,r){return void 0===r&&(r=function(e){return e}),new o(b.map(p.groupBy(this,e,r),function(e){return new U(e[0],e[1])}))},o.prototype.groupJoin=function(e,r,t,n){return new o(d.groupJoin(this,R(e),r,t,n))},o.prototype.join=function(e,r,t,n){return new o(v.join(this,R(e),r,t,n))},o.prototype.leftJoin=function(e,r,t,n){return new o(h.leftJoin(this,R(e),r,t,n))},o.prototype.concat=function(e){return new o(u.concat(this,R(e)))},o.prototype.prepend=function(e){return new o(u.concat(R(e),this))},o.prototype.toArray=function(e){return T.toArray(this)},o.prototype.toMap=function(e,r){return void 0===r&&(r=function(e){return e}),q.toMap(this,e,r)},o.prototype.toMapAll=function(e,r){return B.toMapAll(this,e,r)},o.prototype.toSet=function(e){return D.toSet(b.map(this,e))},o}(),U=function(n){function e(e,r){var t=n.call(this,r)||this;return t.key=e,t}return o(e,n),e}(N);function L(r){return"function"==typeof r?r:function(e){return e===r}}function R(e){return Array.isArray(e)?new N(s.fromArray(e)):e}},{"./iterators/concat":2,"./iterators/distinct":3,"./iterators/except":4,"./iterators/filter":5,"./iterators/flatten":6,"./iterators/fromArray":7,"./iterators/getIterator":9,"./iterators/groupBy":10,"./iterators/groupJoin":11,"./iterators/intersect":12,"./iterators/join":13,"./iterators/leftJoin":14,"./iterators/map":15,"./iterators/reverse":16,"./iterators/shuffle":17,"./iterators/skip":18,"./iterators/sort":19,"./iterators/take":20,"./reducers/at":21,"./reducers/average":22,"./reducers/count":23,"./reducers/first":25,"./reducers/indexOf":26,"./reducers/last":27,"./reducers/lastIndexOf":28,"./reducers/max":29,"./reducers/min":30,"./reducers/reduce":31,"./reducers/sum":32,"./reducers/toArray":33,"./reducers/toMap":34,"./reducers/toMapAll":35,"./reducers/toSet":36}],2:[function(e,r,t){"use strict";var o=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=e("./flatten"),i=e("./fromGenerator");t.concat=function(e,n){return i.fromGenerator(function(){return r=e,t=n,u.flatten(function(){return o(this,function(e){switch(e.label){case 0:return[4,r];case 1:return e.sent(),[4,t];case 2:return e.sent(),[2]}})}());var r,t})}},{"./flatten":6,"./fromGenerator":8}],3:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=e("./filter"),n=e("./fromGenerator");t.distinct=function(r,t){return n.fromGenerator(function(){return e=r,n=t,o=new Set,u.filter(e,function(e,r){var t=n(e);return!o.has(t)&&(o.add(t),!0)});var e,n,o})}},{"./filter":5,"./fromGenerator":8}],4:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("../reducers/toSet"),c=e("./filter"),n=e("./fromGenerator"),f=e("./map");t.except=function(o,u,i){return n.fromGenerator(function(){return e=o,r=u,t=i,n=a.toSet(f.map(r,t)),c.filter(e,function(e){var r=t(e);return!n.has(r)&&(n.add(r),!0)});var e,r,t,n})}},{"../reducers/toSet":36,"./filter":5,"./fromGenerator":8,"./map":15}],5:[function(e,r,t){"use strict";var i=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("./fromGenerator"),a=e("./getIterator");t.filter=function(e,r){return n.fromGenerator(function(){return function(r,t){var n,o,u;return i(this,function(e){switch(e.label){case 0:n=a.getIterator(r),o=n.next(),u=0,e.label=1;case 1:return o.done?[3,4]:t(o.value,u)?[4,o.value]:[3,3];case 2:e.sent(),e.label=3;case 3:return u+=1,o=n.next(),[3,1];case 4:return[2]}})}(e,r)})}},{"./fromGenerator":8,"./getIterator":9}],6:[function(e,r,t){"use strict";var i=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=e("./getIterator"),n=e("./fromGenerator");t.flatten=function(e){return n.fromGenerator(function(){return function(r){var t,n,o,u;return i(this,function(e){switch(e.label){case 0:t=a.getIterator(r),n=t.next(),e.label=1;case 1:if(n.done)return[3,5];o=a.getIterator(n.value),u=o.next(),e.label=2;case 2:return u.done?[3,4]:[4,u.value];case 3:return e.sent(),u=o.next(),[3,2];case 4:return n=t.next(),[3,1];case 5:return[2]}})}(e)})}},{"./fromGenerator":8,"./getIterator":9}],7:[function(e,r,t){"use strict";var o=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("./fromGenerator");t.fromArray=function(e){return n.fromGenerator(function(){return function(r){var t,n;return o(this,function(e){switch(e.label){case 0:t=0,n=r.length,e.label=1;case 1:return t<n?[4,r[t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})}(e)})}},{"./fromGenerator":8}],8:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./getIterator");t.fromGenerator=function(r){var e;return(e={})[Symbol.iterator]=function(){var e;return{next:function(){return void 0===e&&(e=n.getIterator(r())),e.next()}}},e}},{"./getIterator":9}],9:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIterator=function(e){return e[Symbol.iterator]()}},{}],10:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("../reducers/toMapAll"),o=e("./fromGenerator");t.groupBy=function(e,r,t){return o.fromGenerator(function(){return n.toMapAll(e,r,t)})}},{"../reducers/toMapAll":35,"./fromGenerator":8}],11:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=e("../reducers/toMapAll"),y=e("./flatten"),v=e("./fromArray"),n=e("./fromGenerator"),h=e("./map");t.groupJoin=function(c,f,s,l,p){return n.fromGenerator(function(){return e=c,r=f,t=s,n=l,o=p,u=d.toMapAll(e,t,function(e){return e}),i=d.toMapAll(r,n,function(e){return e}),a=h.map(u,function(e){var r=e[0],t=e[1],n=i.get(r);return h.map(v.fromArray(t),function(e){return o(e,n||[])})}),y.flatten(a);var e,r,t,n,o,u,i,a})}},{"../reducers/toMapAll":35,"./flatten":6,"./fromArray":7,"./fromGenerator":8,"./map":15}],12:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=e("../reducers/toSet"),f=e("./filter"),n=e("./fromGenerator"),s=e("./map");t.intersect=function(u,i,a){return n.fromGenerator(function(){return e=u,r=i,t=a,n=new Set,o=c.toSet(s.map(r,t)),f.filter(e,function(e){var r=t(e);return!n.has(r)&&!!o.has(r)&&(n.add(r),!0)});var e,r,t,n,o})}},{"../reducers/toSet":36,"./filter":5,"./fromGenerator":8,"./map":15}],13:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=e("../reducers/toMapAll"),y=e("./filter"),v=e("./flatten"),h=e("./fromArray"),n=e("./fromGenerator"),b=e("./map");t.join=function(c,f,s,l,p){return n.fromGenerator(function(){return e=c,r=f,t=s,n=l,o=p,u=d.toMapAll(e,t,function(e){return e}),i=d.toMapAll(r,n,function(e){return e}),a=b.map(u,function(e){var t=e[0],r=e[1];return b.map(y.filter(h.fromArray(r),function(e){return i.has(t)}),function(r){return b.map(h.fromArray(i.get(t)||[]),function(e){return o(r,e)})})}),v.flatten(v.flatten(a));var e,r,t,n,o,u,i,a})}},{"../reducers/toMapAll":35,"./filter":5,"./flatten":6,"./fromArray":7,"./fromGenerator":8,"./map":15}],14:[function(e,r,t){"use strict";var i=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=e("../reducers/toMapAll"),f=e("./flatten"),s=e("./fromArray"),a=e("./fromGenerator"),l=e("./map");function p(e,r,t,n,o){var u=c.toMapAll(e,t,function(e){return e}),i=c.toMapAll(r,n,function(e){return e}),a=l.map(u,function(e){var t=e[0],r=e[1];return l.map(s.fromArray(r),function(r){return l.map(s.fromArray(i.get(t)||[void 0]),function(e){return o(r,e)})})});return f.flatten(f.flatten(a))}t.leftJoin=function(r,t,n,o,u){return i(this,function(e){return[2,a.fromGenerator(function(){return p(r,t,n,o,u)})]})},t.generator=p},{"../reducers/toMapAll":35,"./flatten":6,"./fromArray":7,"./fromGenerator":8,"./map":15}],15:[function(e,r,t){"use strict";var i=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("./fromGenerator"),a=e("./getIterator");function o(r,t){var n,o,u;return i(this,function(e){switch(e.label){case 0:n=a.getIterator(r),o=n.next(),u=0,e.label=1;case 1:return o.done?[3,3]:[4,t(o.value,u)];case 2:return e.sent(),u+=1,o=n.next(),[3,1];case 3:return[2]}})}t.map=function(e,r){return n.fromGenerator(function(){return o(e,r)})},t.generator=o},{"./fromGenerator":8,"./getIterator":9}],16:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("../reducers/execute"),o=e("./fromArray"),u=e("./fromGenerator");function i(e){var t=[];return n.execute(e,function(e,r){return t.unshift(e)}),o.fromArray(t)}t.reverse=function(e){return u.fromGenerator(function(){return i(e)})},t.generator=i},{"../reducers/execute":24,"./fromArray":7,"./fromGenerator":8}],17:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=e("../reducers/toArray"),i=e("./fromArray"),n=e("./fromGenerator");t.shuffle=function(e){return n.fromGenerator(function(){return function(e){for(var r,t=u.toArray(e),n=t.length-1;0<n;n--){var o=Math.floor(Math.random()*(n+1));r=[t[o],t[n]],t[n]=r[0],t[o]=r[1]}return i.fromArray(t)}(e)})}},{"../reducers/toArray":33,"./fromArray":7,"./fromGenerator":8}],18:[function(e,r,t){"use strict";var a=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=e("./filter"),u=e("./fromGenerator"),c=e("./getIterator");t.skip=function(r,n){return u.fromGenerator(function(){return e=r,0<=(t=n)?o.filter(e,function(e,r){return t<=r}):function(r,t){var n,o,u,i;return a(this,function(e){switch(e.label){case 0:n=[],o=0,u=c.getIterator(r),i=u.next(),e.label=1;case 1:return i.done?[3,4]:(n.push(i.value),0<=o-t?[4,n.shift()]:[3,3]);case 2:e.sent(),e.label=3;case 3:return o+=1,i=u.next(),[3,1];case 4:return[2]}})}(e,-t);var e,t})}},{"./filter":5,"./fromGenerator":8,"./getIterator":9}],19:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=e("../reducers/toArray"),i=e("./fromArray"),n=e("./fromGenerator"),a=e("./map");function c(e,r){var t=e.key,n=r.key;return t<n?-1:n<t?1:e.index-r.index}t.sort=function(e,r,t){return void 0===t&&(t=!1),n.fromGenerator(function(){return function(e,t,r){void 0===r&&(r=!1);var n=a.map(e,function(e,r){return{value:e,index:r,key:t(e,r)}}),o=r?u.toArray(n).sort(function(e,r){return c(r,e)}):u.toArray(n).sort(c);return a.map(i.fromArray(o),function(e){return e.value})}(e,r,t)})}},{"../reducers/toArray":33,"./fromArray":7,"./fromGenerator":8,"./map":15}],20:[function(e,r,t){"use strict";var a=this&&this.__generator||function(t,n){var o,u,i,e,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(i=2&r[0]?u.return:r[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,r[1])).done)return i;switch(u=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,u=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(e){r=[6,e],u=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=e("../reducers/execute"),f=e("./fromArray"),s=e("./fromGenerator"),l=e("./getIterator");t.take=function(u,i){return s.fromGenerator(function(){return e=u,0<=(r=i)?s.fromGenerator(function(){return function(r,t){var n,o,u;return a(this,function(e){switch(e.label){case 0:n=l.getIterator(r),o=n.next(),u=t,e.label=1;case 1:return!u--||o.done?[3,3]:[4,o.value];case 2:return e.sent(),o=n.next(),[3,1];case 3:return[2]}})}(e,r)}):(t=e,n=-r,o=[],c.execute(t,function(e,r){o.length===n&&o.shift(),o.push(e)}),f.fromArray(o));var e,r,t,n,o})}},{"../reducers/execute":24,"./fromArray":7,"./fromGenerator":8,"./getIterator":9}],21:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("../iterators/filter"),o=e("./first");t.at=function(e,t){return o.first(n.filter(e,function(e,r){return r===t}))}},{"../iterators/filter":5,"./first":25}],22:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./execute");t.average=function(e){var t=0,n=0;if(o.execute(e,function(e){var r;return t=(r=[t+e,n+1])[0],n=r[1],r}),0!==n)return t/n}},{"./execute":24}],23:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./execute");t.count=function(e){var t=0;return n.execute(e,function(e,r){return t+=1}),t}},{"./execute":24}],24:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=e("../iterators/getIterator");t.execute=function(e,r){for(var t=u.getIterator(e),n=0,o=t.next();!o.done;)r(o.value,n),n+=1,o=t.next();return 0<n}},{"../iterators/getIterator":9}],25:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("../iterators/getIterator");t.first=function(e){var r=n.getIterator(e).next();return r.done?void 0:r.value}},{"../iterators/getIterator":9}],26:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=e("../iterators/getIterator");t.indexOf=function(e,r){for(var t=u.getIterator(e),n=0,o=t.next();!o.done;){if(r(o.value,n))return n;o=t.next(),n++}return-1}},{"../iterators/getIterator":9}],27:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./execute");t.last=function(e){var t=void 0;return n.execute(e,function(e,r){return t=e}),t}},{"./execute":24}],28:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./execute");t.lastIndexOf=function(e,t){var n=-1;return o.execute(e,function(e,r){t(e,r)&&(n=r)}),n}},{"./execute":24}],29:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./execute");t.max=function(e){var r=-Number.MAX_VALUE;if(n.execute(e,function(e){r<e&&(r=e)}))return r}},{"./execute":24}],30:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./execute");t.min=function(e){var r=Number.MAX_VALUE;if(n.execute(e,function(e){e<r&&(r=e)}))return r}},{"./execute":24}],31:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=e("../iterators/skip"),i=e("./execute"),a=e("./first");t.reduce=function(e,t,r){var n=0,o=r;if(void 0===o){if(void 0===(o=a.first(e)))throw new Error("Sequence contains no elements.");n=1}return i.execute(u.skip(e,n),function(e,r){return o=t(o,e,r+n)}),o}},{"../iterators/skip":18,"./execute":24,"./first":25}],32:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./execute");t.sum=function(e){var r=0;if(n.execute(e,function(e){return r+=e}))return r}},{"./execute":24}],33:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./execute");t.toArray=function(e){var r=[];return n.execute(e,function(e){return r.push(e)}),r}},{"./execute":24}],34:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("./execute");t.toMap=function(e,n,o){var u=new Map;return i.execute(e,function(e,r){var t=n(e,r);if(u.has(t))throw new Error("Duplicate map entry key: "+t+".");u.set(t,o(e,r))}),u}},{"./execute":24}],35:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("./execute");t.toMapAll=function(e,n,o){var u=new Map;return i.execute(e,function(e,r){var t=n(e,r);u.has(t)||u.set(t,[]),u.get(t).push(o(e,r))}),u}},{"./execute":24}],36:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./toArray");t.toSet=function(e){return new Set(n.toArray(e))}},{"./toArray":33}]},{},[1])(1)});